function comenthide(){var e=$(".js-coment");e.each(function(){function e(){o>=n?s.css("display","none"):(s.removeAttr("style"),t())}function t(){s.off("click").on("click",function(e){console.log(n),i.attr("style")?(i.css("max-height",""),$(this).toggleText()):(i.css("max-height",n),$(this).toggleText())})}var i=$(this),o=i.height(),n=i.find(".feedback-item-content-inner").height(),s=i.parent().find(".js-list-more");$(window).on("resize",function(){setTimeout(function(){n=i.find(".feedback-item-content-inner").height(),e()},600)}),e()})}function listhide(){var e=$(".js-slidelist");e.each(function(){function e(){trigger.off("click").on("click",function(e){e.preventDefault(),o.slice(i).fadeToggle(300),$(this).toggleText(),$(".aside-stick").trigger("sticky_kit:recalc")})}var t=$(this),i=t.data("items"),o=t.find("li"),n=o.length;trigger=t.parent().find(".js-list-more"),i>=n?trigger.css("display","none"):(o.slice(i).slideUp(),e())})}function masktel(){var e=document.querySelectorAll("input[type=tel]"),t=new Inputmask("+7 (999) 999 99 99",{showMaskOnHover:!1});t.mask(e)}function initCustomSelectList(){var e={initClass:"cs-active",f:{}},t=$(".js-select-custom");$.each(t,function(){var t=$(this),i=t.find("button"),o=(i.data("placeholder"),t.find(".select-list"));t.on("reinit",function(){var e=o.find("input:checked");if($(this).hasClass("depends-on")){var t=$(this).closest(".input-item");if(e.length){var n=t.nextAll(".input-item").find(".depends-on");n.removeClass("disabled").find("input").prop("checked",!1),n.trigger("reinit")}else{var n=t.nextAll(".input-item").find(".depends-on");n.addClass("disabled").find("input").prop("checked",!1),n.trigger("reinit")}}e.length?i.children(".btn-text").addClass("active").text(""+e.siblings("span").text()).parent().addClass("is-checked"):i.children(".btn-text").removeClass("active").text(i.data("placeholder")).parent().removeClass("is-checked"),CheckForSelect($(this).parents("form"))}),i.on("click",function(){return i.parent().toggleClass("active").siblings().removeClass("active"),!1}),t.on("click","label",function(){var e=$(this),o=e.find("input");o.prop("checked",!0),t.trigger("reinit"),i.parent().removeClass("active")}),t.trigger("reinit"),t.addClass(e.initClass),$(document).on("mouseup",function(e){t.is(e.target)||0!==t.has(e.target).length||t.removeClass("active")})})}function aside(){function e(){setTimeout(function(){$(".aside-stick").stick_in_parent({parent:".aside-menu",offset_top:73,recalc_every:1})},1)}e(),$(window).on("resize",function(){window.matchMedia("(max-width: 735px)").matches?$(".aside-stick").trigger("sticky_kit:detach"):e()})}function updateToSelectMenu(){$(".ui-datepicker-title select").selectmenu({select:function(e){$(this).trigger("change"),updateToSelectMenu()}}),$(".ui-datepicker-title").append($(".ui-selectmenu-menu"))}function datepick(){var e=$(".datepicker");e.each(function(){var e=$(this),t=new Date;e.datepicker({changeMonth:!0,changeYear:!1,dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dateFormat:"dd.mm.yy",firstDay:1,yearRange:"-0:+1",minDate:t,beforeShow:function(){setTimeout(function(){updateToSelectMenu()},0)},onChangeMonthYear:function(){setTimeout(function(){updateToSelectMenu()},0)}}),e.datepicker("refresh")}),$(window).resize(function(){e.datepicker("hide"),$(".datepicker").blur()})}function promoSlider(){$(".js-promoslider").each(function(){var e=$(this),t=e.closest(".promo-slider");e.slick({accessibility:!0,arrows:!1,draggable:!1,autoplay:!0,dots:!0,appendDots:t.find(".nav-dots"),touchMove:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,autoplaySpeed:8e3})})}function rombSlider(){$(".romb-slider-main").each(function(){var e=$(this),t=e.closest(".romb-slider-wrap");e.slick({accessibility:!0,arrows:!0,draggable:!1,autoplay:!0,dots:!1,touchMove:!1,infinite:!1,appendArrows:t.find(".nav-arrows"),slidesToShow:3,slidesToScroll:1,autoplaySpeed:8e3,nextArrow:'<button type="button" class="carousel-next"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',prevArrow:'<button type="button" class="carousel-prev"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',responsive:[{breakpoint:906,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:630,settings:{slidesToShow:1,slidesToScroll:1}}]})})}function diplomSlider(){$(".diplom-slider-inner").each(function(){var e=$(this);e.slick({accessibility:!0,arrows:!0,draggable:!1,autoplay:!1,dots:!1,fade:!1,touchMove:!1,infinite:!1,slidesToShow:1,slidesToScroll:1})})}function contentSlider(){$(".content-slider-slider").each(function(){var e=$(this),t=e.closest(".content-slider-wrap");e.on("init reinit afterChange",function(t,i,o,n){var s=e.find(".slick-current"),a=s.find(".comparator-frame");a.length}),e.slick({accessibility:!0,arrows:!0,draggable:!1,autoplay:!1,dots:!0,fade:!1,touchMove:!1,infinite:!1,appendArrows:t.find(".nav-arrows"),appendDots:t.find(".nav-dots"),slidesToShow:1,slidesToScroll:1,nextArrow:'<button type="button" class="carousel-next"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',prevArrow:'<button type="button" class="carousel-prev"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>'}),e.find(".compare-item_container").length&&e.slick("slickSetOption","swipe",!1,!1)})}function CompareImages(e){this.el=e,this.props={frame:".comparator-frame",reset_delay:1500,isAnimate:!1},this.init()}function partnerSlider(){$(".partner-slider-inner").each(function(){var e=$(this);e.slick({accessibility:!0,arrows:!0,draggable:!1,dots:!1,touchMove:!0,autoplay:!0,autoplaySpeed:5e3,infinite:!1,appendArrows:e.parent().find(".nav-arrows"),slidesToShow:6,slidesToScroll:1,nextArrow:'<button type="button" class="carousel-next"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',prevArrow:'<button type="button" class="carousel-prev"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',responsive:[{breakpoint:1210,settings:{slidesToShow:5}},{breakpoint:991,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:600,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]})})}function moreSlider(){$(".more-content-slider").each(function(){var e=$(this),t=e.parents(".more-content-wrapper"),i=t.find(".nav-arrows"),o=t.hasClass("gray")?2:3;e.slick({accessibility:!0,arrows:!0,draggable:!1,dots:!1,touchMove:!0,infinite:!1,autoplay:!0,autoplaySpeed:4500,appendArrows:i,slidesToShow:o,slidesToScroll:1,nextArrow:'<button type="button" class="carousel-next"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',prevArrow:'<button type="button" class="carousel-prev"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',responsive:[{breakpoint:991,settings:{slidesToShow:2}},{breakpoint:735,settings:{slidesToShow:1}}]})})}function roadSlider(){$(".road-slider-slider").each(function(){var e=$(this),t=e.closest(".road-slider-wrap");e.slick({accessibility:!0,arrows:!0,draggable:!0,dots:!1,touchMove:!0,infinite:!1,slidesToShow:1,slidesToScroll:1,focusOnSelect:!0,appendArrows:t.find(".nav-arrows"),nextArrow:'<button type="button" class="carousel-next"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',prevArrow:'<button type="button" class="carousel-prev"><svg class="icon icon-drop"><use xlink:href="#arr-circle" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',asNavFor:t.find(".content-slider-add")})}),$(".content-slider-add").each(function(){var e=$(this),t=e.closest(".road-slider-wrap");e.slick({accessibility:!0,arrows:!1,draggable:!0,dots:!1,touchMove:!0,infinite:!1,slidesToShow:1,slidesToScroll:1,focusOnSelect:!0,asNavFor:t.find(".road-slider-slider")})})}function productSlider(){$(".product-container-slider-main").each(function(){var e=$(this),t=e.closest(".product-container-slider");e.slick({accessibility:!0,arrows:!1,draggable:!0,dots:!1,touchMove:!0,infinite:!1,slidesToShow:1,slidesToScroll:1,focusOnSelect:!0,asNavFor:t.find(".product-container-slider-add")})}),$(".product-container-slider-add").each(function(){var e=$(this),t=e.closest(".product-container-slider");e.slick({accessibility:!0,arrows:!1,draggable:!0,dots:!1,touchMove:!0,infinite:!1,slidesToShow:4,slidesToScroll:1,focusOnSelect:!0,asNavFor:t.find(".product-container-slider-main")})})}function mapinit(e){function t(){i=new ymaps.Map(e,{center:o,zoom:14,controls:["zoomControl","fullscreenControl"]},{}),myPlacemark=new ymaps.Placemark(i.getCenter(),{},{iconLayout:"default#image",iconImageHref:"images/myIcon.gif",iconImageHref:"/local/templates/main/img/map.svg",iconImageSize:[30,44],iconImageOffset:[-15,-44]}),i.geoObjects.add(myPlacemark),i.behaviors.disable(["rightMouseButtonMagnifier","ruler","scrollZoom"]),i.controls.remove("typeSelector"),i.controls.remove("searchControl"),i.controls.remove("GeolocationControl")}var i,o=$("#"+e).data("cords");ymaps.ready(t)}function validateForms(){var e=$(".js-validate");e.length&&e.each(function(){var e=$(this);e.parent();$.validate({form:e,modules:"security",borderColorOnError:!0,scrollToTopOnError:!1,onSuccess:function(t){formResponse(e)},onValidate:function(t){CheckForSelect(e),checkStars(e)}})})}function CheckForSelect(e){if(e.find(".select-check").length){var t=e.find(".select-check");t.each(function(){var e=$(this),t=(e.find(".selects"),e.find(".option.has-error"));t.length?e.addClass("error"):e.removeClass("error")}),!t.hasClass("error")}}function checkStars(e){if(e.find(".star-item").length){var t=$(".js-stars");return!!t.hasClass("has-success")||(t.addClass("has-error"),!1)}}function popUpsInit(){var e=this;e.b={open:$(".js-popup-button")},e.c={popup:$(".js-popup-container"),body:$("body")},e.f={},e.conf={body_class:"modal_open",active_class:"active",close_selector:".closePopup",initial_class:"popup-initialed"},e.f.initModalActions=function(t){$(t).on("click",".modal-container-content,.modal-container-header",function(t){e.conf.close_selector.is(t.target)||t.stopPropagation()}),t.find(e.conf.close_selector).add(t).off("click.popup").on("click.popup",function(){e.f.closePopup(t)})},e.f.closePopup=function(t){var i=parseInt(e.c.body.css("top")),o=Math.abs(i),n=t.find(".modal-container:not(.response)");_response=t.find(".response"),t.removeClass(e.conf.active_class),e.c.body.removeClass(e.conf.body_class).removeAttr("style"),$(window).scrollTop(o),setTimeout(function(){n.removeAttr("style"),_response.css("display","none")},500)},e.f.openPopup=function(t){var i=e.c.body.scrollTop();0===i&&(i=$("html").scrollTop()),setTimeout(function(){console.log(i,"timeout"),t.addClass(e.conf.active_class),e.c.body.addClass(e.conf.body_class).css("top",-i)},10)},$.each(e.c.popup.not("."+e.conf.initial_class),function(){var t=$(this);e.f.initModalActions(t),t.off("reinit").on("reinit",function(){e.f.initModalActions(t)}),t.addClass(e.conf.initial_class)}),e.b.open.off("click.popup").on("click.popup",function(t){t.preventDefault();var i=$(this),o=e.c.popup.filter('[data-modal="'+i.data("modal")+'"]');return e.f.openPopup(o),!1})}function AjaxLoading(e){var t=this;t.ajaxLink=e,t.appendMain=$("#modal-road"),t.initEvents=function(){$(".ajax-trigger").off("click.trigger").on("click.trigger",function(e){var i=$(this).attr("href");return t.action(i),e.preventDefault(),!1})},t.action=function(e){$.ajax({url:e,dataType:"html",success:function(e){var i=$(e).html();t.appendMain.html(i).promise().done(function(){t.initEvents(),roadSlider(),popUpsInit()})}})},t.initEvents()}function formResponse(e){if(e.closest(".modal-container").length){var t=e.closest(".modal-container"),i=t.next(".response");i.length&&t.fadeOut("slow",function(){i.fadeIn("slow")})}}document.addEventListener("DOMContentLoaded",function(){function e(){var e=$(".js-menu"),i=$(".header-mobile-menu"),o=$(".page__header"),n=$("body"),s="active",a="menu-open";e.add(i).on("click",function(){e.hasClass("anim")||(e.addClass("anim"),t(a),e.add(i).toggleClass(s),n.add(o).toggleClass(a),setTimeout(function(){e.removeClass("anim")},500))}),$(".header-mobile-menu-outer").click(function(e){e.stopPropagation()})}function t(e){var t=$("body");if(t.hasClass(e)){var i=parseInt(t.css("top")),o=Math.abs(i);console.log(o),t.css("top",""),setTimeout(function(){$(window).add(t).scrollTop(o)},10)}else{var i=t.scrollTop();0===i&&(i=$("html").scrollTop()),t.css("top",-i)}}function i(){var e=$(".header-bottom-menu"),t=e.find("li a");e.find(".active");e.append("<div id='slide-line'></div>");var i=$("#slide-line");o(i,".header-bottom-menu-item.active"),t.hover(function(){var e=$(this).find("span"),t=e.position().left,o=e.width();i.stop().animate({left:t,width:o})},function(){i.stop().animate({left:i.data("origLeft"),width:i.data("origWidth")})}),$(window).on("resize",function(){setTimeout(function(){o(i,".header-bottom-menu-item.active")},300)})}function o(e,t){e.is(":visible")&&e.width($(t).find("span").width()).css("left",$(t).find("span").position().left).data("origLeft",e.position().left).data("origWidth",e.width())}function n(){if($(".offerlist-section").length){$(".aside-stick").stick_in_parent({offset_top:73,recalc_every:1});var e=$(".js-accordion-trigger"),t=$(".js-accordion-body"),i=e.children(".table-item").not(".table-status").not(".table-btn");e.not(".active").find(t).hide(),i.on("click",function(e){var i=$(this).parent();i.find(t);i.hasClass("active")?(i.siblings().removeClass("active").find(t).slideUp(200),i.removeClass("active").find(t).slideUp(300)):(i.siblings().removeClass("active").find(t).slideUp(200),i.addClass("active").find(t).slideDown(300,function(){var e=i.offset().top;jQuery("body:not(:animated)").animate({scrollTop:e-80},500)})),setTimeout(function(){$("body").trigger("scroll")},801)})}}!function(){function e(){var e=$(document).scrollTop();t(e),s=e,n=!1}function t(e){e<=20?(i.classList.remove("is-hidden"),o($("#slide-line"),".header-bottom-menu-item.active")):(i.classList.add("is-hidden"),o($("#slide-line"),".header-bottom-menu-item.active"))}var i=document.querySelector(".cd-auto-hide-header"),n=(i.offsetHeight,!1),s=0;$(window).on("scroll",function(){n||(n=!0,window.requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,250))})}(),e(),i(),$(".js-scroll-to").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).attr("href");if($(".aside-stick").trigger("sticky_kit:recalc"),$(t)){var i=$(t).offset().top,o=window.matchMedia("(max-width: 991px)").matches?70:90;$("html, body:not(:animated), .out:not(:animated)").animate({scrollTop:i-o},500),setTimeout(function(){window.location.hash=t},400)}else e.preventDefault()}),jQuery.fn.toggleText=function(){var e=this.data("alt-text");e&&(this.data("alt-text",this.text()),this.find(".link-black").text(e))},n(),aside(),popUpsInit(),validateForms(),masktel(),initCustomSelectList(),comenthide(),promoSlider(),datepick()}),CompareImages.prototype={init:function(){var e=this;this.timer,this.itemFrame=this.el.find(".comparator-frame"),this.setSizeImage(),this.setEventListener(),this.setDivide(),$(this.itemFrame).addClass("initialize"),$(this.itemFrame).each(function(){$(this).on("mouseenter touchstart",function(t){clearTimeout(e.timer),console.log("touch")}),$(this).on("mousemove touchmove",function(t){e.moveDivede(t,$(this))}),$(this).on("mouseleave touchend touchcancel",function(t){e.resetDevide()})})},setEventListener:function(){var e=this;$(window).on("resize",function(){e.setSizeImage(),e.setDivide()})},setSizeImage:function(){$(this.itemFrame).each(function(){var e=$(this).width();$(this).find(".to img").css("width",e)})},setDivide:function(){$(this.itemFrame).each(function(){var e=$(this).width();$(this).find(".to").css("width",e/2),$(this).find(".compare-runner").css("left",e/2)})},moveDivede:function(e,t){var i=t.width(),o=Math.round(this.getRalativeMouseX(e,t)),n=t.parents(".comparator").find(".comparator-frame");o<=20?(n.find(".to").css("width",20),n.find(".compare-runner").css("left",20)):o>=i-20?(n.find(".to").css("width",i-20),n.find(".compare-runner").css("left",i-20)):(n.find(".to").css("width",o),n.find(".compare-runner").css("left",o))},getRalativeMouseX:function(e,t){if("touchmove"==e.type)var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],o=i.clientX-$(e.target).offset().left;else var o=e.offsetX;var n=Math.min(o,t.width());return n},resetDevide:function(){var e=this;this.timer=setTimeout(function(){var t=e;e.el.find(".to").animate({width:$(t.itemFrame).width()/2},350),e.el.find(".compare-runner").animate({left:$(t.itemFrame).width()/2},350)},this.props.reset_delay)}};